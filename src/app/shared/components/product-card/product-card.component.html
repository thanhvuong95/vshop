<div
  class="group flex flex-col w-full h-full max-w-productCard mx-auto overflow-hidden relative cursor-pointer hover:shadow-md transition-all"
  [routerLink]="['/shop', product.id]"
>
  <div
    class="w-14 h-14 flex justify-center items-center absolute top-4 left-4 bg-backgroundPrimary text-white rounded-full z-10"
    *ngIf="product.discountPercent"
  >
    <span>
      {{ discountPercent }}
    </span>
  </div>

  <div class="relative overflow-hidden px-3">
    <img
      class="w-full h-80 object-contain"
      nz-image
      [nzSrc]="product.imageUrls[0]"
      nzDisablePreview="true"
    />
    <button
      class="block w-full absolute bottom-0 left-0 md:translate-y-full bg-backgroundLightPrimary text-white border-none uppercase font-bold hover:bg-backgroundDarkPrimary hover:text-white md:group-hover:translate-y-0"
      [class]="!product.inStock ? 'pointer-events-none' : ''"
      nz-button
      nzSize="large"
      (click)="addToCart($event)"
    >
      {{ product.inStock ? "Add to cart" : "Out of stock" }}
    </button>
  </div>

  <div class="text-center flex flex-col flex-1 p-3">
    <p class="flex-1">{{ product.name }}</p>
    <div class="flex justify-center gap-5 mt-auto">
      <span
        [class]="
          product.discountPercent
            ? 'text-lightGrey line-through'
            : 'text-primary font-medium'
        "
        >{{ product.price | currency }}</span
      >
      <span
        class="text-primary font-mediumtext-primary font-medium"
        *ngIf="product.discountPercent"
      >
        {{ priceDiscount | currency }}
      </span>
    </div>
  </div>
</div>
